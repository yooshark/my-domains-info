<script setup lang="ts">
import { useDomains, useRefreshDomains } from "@/composables/useDomainInfo";

const { data, isLoading, error } = useDomains();
const _refresh = useRefreshDomains();
</script>

<template>
  <div class="p-6 space-y-4">
    <div class="flex gap-2">
      <AddDomainModal/>
      <button
          class="btn"
          :disabled="refresh.isPending"
          @click="refresh.mutate()"
      >
        üîÑ –û–±–Ω–æ–≤–∏—Ç—å
      </button>
    </div>

    <DomainTable
        v-if="data"
        :items="data"
    />

    <p v-if="isLoading">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</p>
    <p v-if="error" class="text-red-500">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</p>
  </div>
</template>
